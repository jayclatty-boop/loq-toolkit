<wpfui:UiPage
    x:Class="LenovoLegionToolkit.WPF.Pages.SystemInfoPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:resources="clr-namespace:LenovoLegionToolkit.WPF.Resources"
    xmlns:utils="clr-namespace:LenovoLegionToolkit.WPF.Utils"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="System Info"
    FlowDirection="{x:Static utils:LocalizationHelper.Direction}"
    Scrollable="True">

    <StackPanel Margin="0,0,20,16">
        <!-- Page Title - Windows 11 Style -->
        <TextBlock
            Margin="0,24,0,28"
            Focusable="True"
            FontSize="28"
            FontWeight="SemiBold"
            Text="System Info" />

        <!-- LOQ Warning Banner (shown when not a LOQ device) - Windows 11 Style -->
        <Border
            x:Name="_loqWarningBanner"
            Margin="0,0,0,20"
            Padding="16,12,16,12"
            Background="{DynamicResource SystemFillColorCautionBackgroundBrush}"
            CornerRadius="12"
            Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                <wpfui:SymbolIcon
                    Margin="0,0,8,0"
                    VerticalAlignment="Center"
                    Foreground="{DynamicResource SystemFillColorCautionBrush}"
                    Symbol="Warning24" />
                <TextBlock
                    VerticalAlignment="Center"
                    Text="This device does not appear to be a Lenovo LOQ laptop. Some features may not work correctly."
                    TextWrapping="Wrap" />
            </StackPanel>
        </Border>

        <!-- Device Information Section - Windows 11 Style -->
        <TextBlock
            Padding="0,0,0,16"
            Focusable="True"
            FontSize="18"
            FontWeight="SemiBold"
            Text="Device Information" />

        <Border
            Margin="0,0,0,24"
            Padding="20,16,20,16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource ControlElevationBorderBrush}"
            BorderThickness="1"
            CornerRadius="12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="160" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBlock
                    Grid.Row="0"
                    Grid.Column="0"
                    Margin="0,0,0,10"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="Model" />
                <TextBlock
                    x:Name="_modelText"
                    Grid.Row="0"
                    Grid.Column="1"
                    Margin="0,0,0,8"
                    FontWeight="Medium"
                    Text="Loading..." />

                <TextBlock
                    Grid.Row="1"
                    Grid.Column="0"
                    Margin="0,0,0,8"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="Machine Type" />
                <TextBlock
                    x:Name="_machineTypeText"
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="0,0,0,8"
                    FontWeight="Medium"
                    Text="Loading..." />

                <TextBlock
                    Grid.Row="2"
                    Grid.Column="0"
                    Margin="0,0,0,8"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="Serial Number" />
                <TextBlock
                    x:Name="_serialNumberText"
                    Grid.Row="2"
                    Grid.Column="1"
                    Margin="0,0,0,8"
                    FontWeight="Medium"
                    Text="Loading..." />

                <TextBlock
                    Grid.Row="3"
                    Grid.Column="0"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="BIOS Version" />
                <TextBlock
                    x:Name="_biosVersionText"
                    Grid.Row="3"
                    Grid.Column="1"
                    FontWeight="Medium"
                    Text="Loading..." />
            </Grid>
        </Border>

        <!-- GPU Information Section - Windows 11 Style -->
        <TextBlock
            Padding="0,0,0,16"
            Focusable="True"
            FontSize="18"
            FontWeight="SemiBold"
            Text="GPU Information" />

        <Border
            Margin="0,0,0,12"
            Padding="20,16,20,16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource ControlElevationBorderBrush}"
            BorderThickness="1"
            CornerRadius="12">
            <StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="160" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <TextBlock
                        Grid.Column="0"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                        Text="GPU Model" />
                    <TextBlock
                        x:Name="_gpuNameText"
                        Grid.Column="1"
                        FontWeight="Medium"
                        Text="Loading..." />
                </Grid>
            </StackPanel>
        </Border>

        <!-- GPU Real-time Monitoring Dashboard - Windows 11 Style -->
        <Border
            x:Name="_monitoringCard"
            Margin="0,0,0,24"
            Padding="20,16,20,16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource ControlElevationBorderBrush}"
            BorderThickness="1"
            CornerRadius="12"
            Visibility="Collapsed">
            <StackPanel>
                <Grid Margin="0,0,0,16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        FontSize="14"
                        FontWeight="Medium"
                        Text="Real-time Monitoring" />
                    <wpfui:Button
                        x:Name="_toggleMonitoringButton"
                        Grid.Column="1"
                        Content="Start Monitoring"
                        Appearance="Secondary"
                        Icon="Play24"
                        Click="ToggleMonitoringButton_Click" />
                </Grid>

                <Grid x:Name="_monitoringGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Core Clock -->
                    <Border Grid.Row="0" Grid.Column="0" Padding="8" Margin="4">
                        <StackPanel>
                            <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Core Clock" />
                            <TextBlock x:Name="_coreClockText" FontSize="20" FontWeight="Medium" Text="-- MHz" />
                        </StackPanel>
                    </Border>

                    <!-- Memory Clock -->
                    <Border Grid.Row="0" Grid.Column="1" Padding="8" Margin="4">
                        <StackPanel>
                            <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Memory Clock" />
                            <TextBlock x:Name="_memoryClockText" FontSize="20" FontWeight="Medium" Text="-- MHz" />
                        </StackPanel>
                    </Border>

                    <!-- Temperature -->
                    <Border Grid.Row="0" Grid.Column="2" Padding="8" Margin="4">
                        <StackPanel>
                            <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Temperature" />
                            <TextBlock x:Name="_temperatureText" FontSize="20" FontWeight="Medium" Text="-- 째C" />
                        </StackPanel>
                    </Border>

                    <!-- GPU Usage -->
                    <Border Grid.Row="1" Grid.Column="0" Padding="8" Margin="4">
                        <StackPanel>
                            <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="GPU Usage" />
                            <TextBlock x:Name="_gpuUsageText" FontSize="20" FontWeight="Medium" Text="-- %" />
                        </StackPanel>
                    </Border>

                    <!-- Power Draw -->
                    <Border Grid.Row="1" Grid.Column="1" Padding="8" Margin="4">
                        <StackPanel>
                            <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Power Draw" />
                            <TextBlock x:Name="_powerDrawText" FontSize="20" FontWeight="Medium" Text="-- W" />
                        </StackPanel>
                    </Border>

                    <!-- Performance State -->
                    <Border Grid.Row="1" Grid.Column="2" Padding="8" Margin="4">
                        <StackPanel>
                            <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Perf State" />
                            <TextBlock x:Name="_perfStateText" FontSize="20" FontWeight="Medium" Text="--" />
                        </StackPanel>
                    </Border>

                    <!-- Temperature Warning -->
                    <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" Padding="8" Margin="4" 
                            x:Name="_tempWarningBorder"
                            Background="{DynamicResource SystemFillColorCautionBackgroundBrush}"
                            CornerRadius="8"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <wpfui:SymbolIcon Symbol="Warning24" Margin="0,0,8,0" 
                                            Foreground="{DynamicResource SystemFillColorCautionBrush}" />
                            <TextBlock x:Name="_tempWarningText" TextWrapping="Wrap" 
                                     Text="Temperature is high! Overclock may be reverted for safety." />
                        </StackPanel>
                    </Border>
                </Grid>
            </StackPanel>
        </Border>

        <!-- GPU Stability Testing Section - Windows 11 Style -->
        <TextBlock
            x:Name="_stabilityTestingHeader"
            Padding="0,0,0,12"
            Focusable="True"
            FontSize="18"
            FontWeight="SemiBold"
            Text="Stability Testing"
            Visibility="Collapsed" />

        <Border
            x:Name="_stabilityTestingCard"
            Margin="0,0,0,24"
            Padding="20,16,20,16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource ControlElevationBorderBrush}"
            BorderThickness="1"
            CornerRadius="12"
            Visibility="Collapsed">
            <StackPanel>
                <TextBlock
                    Margin="0,0,0,12"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="Test the stability of your overclock settings. Quick Test runs for 2 minutes, Extended Test runs for 30 minutes."
                    TextWrapping="Wrap" />

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <wpfui:Button
                        x:Name="_quickTestButton"
                        Grid.Column="0"
                        Margin="0,0,8,0"
                        Content="Quick Test (2 min)"
                        Icon="Flash24"
                        HorizontalAlignment="Stretch"
                        Click="QuickTestButton_Click" />

                    <wpfui:Button
                        x:Name="_extendedTestButton"
                        Grid.Column="1"
                        Margin="8,0,0,0"
                        Content="Extended Test (30 min)"
                        Icon="Timer24"
                        Appearance="Secondary"
                        HorizontalAlignment="Stretch"
                        Click="ExtendedTestButton_Click" />
                </Grid>

                <!-- Test Progress -->
                <Border
                    x:Name="_testProgressCard"
                    Margin="0,16,0,0"
                    Padding="12"
                    Background="{DynamicResource ControlFillColorSecondaryBrush}"
                    CornerRadius="8"
                    Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock x:Name="_testStatusText" FontWeight="Medium" Margin="0,0,0,8" Text="Running stability test..." />
                        <ProgressBar x:Name="_testProgressBar" Height="6" Margin="0,0,0,8" />
                        <TextBlock x:Name="_testTimeText" FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}" Text="Time remaining: --:--" />
                        <wpfui:Button
                            x:Name="_cancelTestButton"
                            Margin="0,12,0,0"
                            Content="Cancel Test"
                            Appearance="Danger"
                            Icon="Dismiss24"
                            Click="CancelTestButton_Click" />
                    </StackPanel>
                </Border>

                <!-- Temperature Safety Settings -->
                <Border
                    Margin="0,16,0,0"
                    Padding="12"
                    Background="{DynamicResource ControlFillColorDefaultBrush}"
                    CornerRadius="8">
                    <StackPanel>
                        <TextBlock FontWeight="Medium" Margin="0,0,0,8" Text="Safety Settings" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Margin="0,0,12,0"
                                Text="Temperature Limit:" />
                            <Slider
                                x:Name="_tempLimitSlider"
                                Grid.Column="1"
                                Minimum="75"
                                Maximum="95"
                                Value="85"
                                TickFrequency="5"
                                IsSnapToTickEnabled="True"
                                Margin="0,0,12,0"
                                ValueChanged="TempLimitSlider_ValueChanged" />
                            <TextBlock
                                x:Name="_tempLimitText"
                                Grid.Column="2"
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Text="85 째C" />
                        </Grid>
                        <TextBlock
                            Margin="0,8,0,0"
                            FontSize="11"
                            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                            Text="Overclock will be automatically reverted if temperature exceeds this limit."
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- GPU Overclock Recommendations Section - Windows 11 Style -->
        <TextBlock
            Padding="0,0,0,12"
            Focusable="True"
            FontSize="18"
            FontWeight="SemiBold"
            Text="Recommended GPU Overclocks" />
        <TextBlock
            Margin="0,0,0,16"
            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
            Text="Select a preset based on your preference. Conservative is safer, Aggressive offers more performance but may cause instability."
            TextWrapping="Wrap" />

        <!-- GPU OC Not Supported Warning -->
        <Border
            x:Name="_gpuNotSupportedBanner"
            Margin="0,0,0,16"
            Padding="12"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            CornerRadius="8"
            Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                <wpfui:SymbolIcon
                    Margin="0,0,8,0"
                    VerticalAlignment="Center"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Symbol="Info24" />
                <TextBlock
                    VerticalAlignment="Center"
                    Text="GPU overclocking is not supported on this device."
                    TextWrapping="Wrap" />
            </StackPanel>
        </Border>

        <!-- Preset Cards Container -->
        <ItemsControl x:Name="_presetsContainer" Margin="0,0,0,24">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="3" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>

        <!-- Gaming & Maintenance Section - Windows 11 Style -->
        <TextBlock
            Padding="0,0,0,16"
            Focusable="True"
            FontSize="18"
            FontWeight="SemiBold"
            Text="Gaming and System Optimization" />

        <!-- Gaming Mode Card - Windows 11 Style -->
        <Border
            Margin="0,0,0,16"
            Padding="20,16,20,16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource ControlElevationBorderBrush}"
            BorderThickness="1"
            CornerRadius="12">
            <StackPanel>
                <TextBlock
                    FontSize="14"
                    FontWeight="Medium"
                    Margin="0,0,0,8"
                    Text="Gaming Mode" />
                <TextBlock
                    Margin="0,0,0,12"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="One-click optimization: kills background apps, clears RAM, and switches to performance mode."
                    TextWrapping="Wrap" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        x:Name="_gamingModeStatusText"
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                        Text="Status: Inactive" />
                    <wpfui:Button
                        x:Name="_enableGamingModeButton"
                        Grid.Column="1"
                        Content="Enable Gaming Mode"
                        Icon="Play24"
                        Appearance="Primary"
                        Click="EnableGamingModeButton_Click" />
                </Grid>
            </StackPanel>
        </Border>

        <!-- RAM Optimizer Card -->
        <Border
            Margin="0,0,0,16"
            Padding="16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            CornerRadius="12">
            <StackPanel>
                <TextBlock
                    FontSize="14"
                    FontWeight="Medium"
                    Margin="0,0,0,8"
                    Text="Memory Optimizer" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Total Memory" />
                        <TextBlock x:Name="_totalMemoryText" FontSize="16" FontWeight="Medium" Text="-- GB" />
                    </StackPanel>
                    
                    <StackPanel Grid.Column="1" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Available" />
                        <TextBlock x:Name="_availableMemoryText" FontSize="16" FontWeight="Medium" Text="-- GB" />
                    </StackPanel>
                    
                    <StackPanel Grid.Column="2" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Usage" />
                        <TextBlock x:Name="_memoryUsageText" FontSize="16" FontWeight="Medium" Text="-- %" />
                    </StackPanel>
                </Grid>
                <wpfui:Button
                    x:Name="_clearMemoryButton"
                    Margin="0,8,0,0"
                    Content="Clear Memory"
                    Icon="Broom24"
                    Appearance="Secondary"
                    HorizontalAlignment="Stretch"
                    Click="ClearMemoryButton_Click" />
            </StackPanel>
        </Border>

        <!-- Gaming Performance Analyzer Card -->
        <Border
            Margin="0,0,0,16"
            Padding="16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            CornerRadius="12">
            <StackPanel>
                <TextBlock
                    FontSize="14"
                    FontWeight="Medium"
                    Margin="0,0,0,8"
                    Text="Gaming Performance Analyzer" />
                <TextBlock
                    Margin="0,0,0,12"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="Detects running games and predicts sustainable FPS based on thermal and power headroom."
                    TextWrapping="Wrap" />

                <!-- Game Detection Status -->
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        VerticalAlignment="Center">
                        <Run Foreground="{DynamicResource TextFillColorSecondaryBrush}" Text="Detected Game: " />
                        <Run x:Name="_detectedGameText" FontWeight="Medium" Text="Rocket League" />
                        <Run x:Name="_exampleIndicator" Foreground="{DynamicResource TextFillColorTertiaryBrush}" FontStyle="Italic" Text=" (Example)" />
                    </TextBlock>
                    <wpfui:Button
                        x:Name="_refreshGameDetectionButton"
                        Grid.Column="1"
                        Content="Refresh"
                        Icon="ArrowSync24"
                        Appearance="Secondary"
                        Click="RefreshGameDetectionButton_Click" />
                </Grid>

                <!-- Performance Metrics Grid -->
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Thermal Headroom -->
                    <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,8,8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Thermal Headroom" />
                        <ProgressBar x:Name="_thermalHeadroomBar" Height="4" Margin="0,4,0,0" />
                        <TextBlock x:Name="_thermalHeadroomText" FontSize="14" FontWeight="Medium" Text="-- %" />
                    </StackPanel>

                    <!-- Power Headroom -->
                    <StackPanel Grid.Row="0" Grid.Column="1" Margin="8,0,0,8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Power Headroom" />
                        <ProgressBar x:Name="_powerHeadroomBar" Height="4" Margin="0,4,0,0" />
                        <TextBlock x:Name="_powerHeadroomText" FontSize="14" FontWeight="Medium" Text="-- %" />
                    </StackPanel>

                    <!-- GPU Temperature -->
                    <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,8,0">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="GPU Temperature" />
                        <TextBlock x:Name="_performanceGpuTempText" FontSize="14" FontWeight="Medium" Text="-- 째C" />
                    </StackPanel>

                    <!-- Sustainable FPS -->
                    <StackPanel Grid.Row="1" Grid.Column="1" Margin="8,0,0,0">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Est. Sustainable FPS" />
                        <TextBlock x:Name="_sustainableFpsText" FontSize="14" FontWeight="Medium" Text="--" />
                    </StackPanel>
                </Grid>

                <!-- Performance Profile Badge -->
                <Border x:Name="_performanceProfileBorder" Margin="0,0,0,12" Padding="12,8" CornerRadius="8">
                    <TextBlock x:Name="_performanceProfileText" Text="Profile: --" FontWeight="Medium" />
                </Border>

                <!-- FPS Predictions -->
                <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Margin="0,0,0,8" Text="FPS Predictions by Quality:" />
                <StackPanel x:Name="_fpsPredictionsPanel" Margin="0,0,0,12" />

                <!-- Preset Recommendation -->
                <Border Padding="12,8" CornerRadius="8" Background="{DynamicResource ControlFillColorDefaultBrush}" BorderBrush="{DynamicResource ControlElevationBorderBrush}" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Preset Recommendation" />
                        <TextBlock x:Name="_presetRecommendationText" FontSize="12" FontWeight="Medium" Text="-- " TextWrapping="Wrap" Margin="0,4,0,0" />
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- Battery Diagnostics Card -->
        <Border
            Margin="0,0,0,16"
            Padding="16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            CornerRadius="12">
            <StackPanel>
                <TextBlock
                    FontSize="14"
                    FontWeight="Medium"
                    Margin="0,0,0,12"
                    Text="Battery Diagnostics" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Battery Health" />
                        <TextBlock x:Name="_batteryHealthText" FontSize="16" FontWeight="Medium" Text="-- %" />
                    </StackPanel>
                    
                    <StackPanel Grid.Row="0" Grid.Column="1" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Cycle Count" />
                        <TextBlock x:Name="_batteryCycleText" FontSize="16" FontWeight="Medium" Text="--" />
                    </StackPanel>
                    
                    <StackPanel Grid.Row="0" Grid.Column="2" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Temperature" />
                        <TextBlock x:Name="_batteryTempText" FontSize="16" FontWeight="Medium" Text="-- 째C" />
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="0" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Design Capacity" />
                        <TextBlock x:Name="_batteryDesignCapacityText" FontSize="12" Text="-- mWh" />
                    </StackPanel>
                    
                    <StackPanel Grid.Row="1" Grid.Column="1" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Full Charge Capacity" />
                        <TextBlock x:Name="_batteryFullChargeText" FontSize="12" Text="-- mWh" />
                    </StackPanel>
                    
                    <StackPanel Grid.Row="1" Grid.Column="2" Margin="8">
                        <TextBlock Foreground="{DynamicResource TextFillColorSecondaryBrush}" FontSize="11" Text="Charge Rate" />
                        <TextBlock x:Name="_batteryChargeRateText" FontSize="12" Text="-- W" />
                    </StackPanel>
                </Grid>

                <Border
                    x:Name="_batteryWarningBorder"
                    Margin="0,12,0,0"
                    Padding="12,8"
                    Background="{DynamicResource SystemFillColorCautionBackgroundBrush}"
                    CornerRadius="12"
                    Visibility="Collapsed">
                    <StackPanel Orientation="Horizontal">
                        <wpfui:SymbolIcon Symbol="Warning24" Margin="0,0,8,0" 
                                        Foreground="{DynamicResource SystemFillColorCautionBrush}" />
                        <TextBlock x:Name="_batteryWarningText" TextWrapping="Wrap" 
                                 Text="Battery health is degraded. Consider replacement." />
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- Fan Control Panel -->
        <Border
            Margin="0,0,0,16"
            Padding="16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            CornerRadius="12">
            <StackPanel>
                <TextBlock
                    FontSize="14"
                    FontWeight="Medium"
                    Margin="0,0,0,8"
                    Text="Fan Control" />
                <TextBlock
                    Margin="0,0,0,12"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                    Text="Quick fan presets for different scenarios."
                    TextWrapping="Wrap" />
                    
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="100" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                        Text="Fan Speed:" />
                    <TextBlock
                        x:Name="_fanSpeedText"
                        Grid.Column="1"
                        VerticalAlignment="Center"
                        FontWeight="Medium"
                        Text="-- RPM" />
                </Grid>

                <Grid Margin="0,12,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <wpfui:Button
                        x:Name="_fanSilentButton"
                        Grid.Column="0"
                        Margin="0,0,4,0"
                        Content="Silent"
                        Icon="Sleep24"
                        Appearance="Secondary"
                        Click="FanSilentButton_Click" />
                    <wpfui:Button
                        x:Name="_fanBalancedButton"
                        Grid.Column="1"
                        Margin="4,0,4,0"
                        Content="Balanced"
                        Icon="Gauge24"
                        Appearance="Secondary"
                        Click="FanBalancedButton_Click" />
                    <wpfui:Button
                        x:Name="_fanMaxButton"
                        Grid.Column="2"
                        Margin="4,0,0,0"
                        Content="Max"
                        Icon="TopSpeed24"
                        Appearance="Secondary"
                        Click="FanMaxButton_Click" />
                </Grid>
            </StackPanel>
        </Border>

        <!-- Storage Health Card -->
        <Border
            Margin="0,0,0,16"
            Padding="16"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            CornerRadius="12">
            <StackPanel>
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        FontSize="14"
                        FontWeight="Medium"
                        Text="Storage Health" />
                    <wpfui:Button
                        x:Name="_refreshStorageButton"
                        Grid.Column="1"
                        Content="Refresh"
                        Icon="ArrowClockwise24"
                        Appearance="Secondary"
                        Click="RefreshStorageButton_Click" />
                </Grid>
                <ItemsControl x:Name="_storageItemsControl">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="0,0,0,8" Padding="12,8" Background="{DynamicResource ControlFillColorSecondaryBrush}" CornerRadius="8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock FontWeight="Medium" Text="{Binding Model}" />
                                        <TextBlock FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}" Text="{Binding DeviceName}" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Margin="12,0">
                                        <TextBlock FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}" Text="Health" />
                                        <TextBlock FontWeight="Medium" Text="{Binding HealthPercentage}" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="2" Margin="12,0">
                                        <TextBlock FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}" Text="Temp" />
                                        <TextBlock FontWeight="Medium" Text="{Binding TemperatureC}" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="3" Margin="12,0">
                                        <TextBlock FontSize="11" Foreground="{DynamicResource TextFillColorSecondaryBrush}" Text="Type" />
                                        <TextBlock FontWeight="Medium" Text="{Binding MediaType}" />
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </Border>

    </StackPanel>
</wpfui:UiPage>
